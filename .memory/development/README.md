# RAGFlow å¼€å‘æµç¨‹ä¼˜åŒ–æ–‡æ¡£ç´¢å¼•

æœ¬ç›®å½•åŒ…å« RAGFlow å¼€å‘æµç¨‹ä¼˜åŒ–ç›¸å…³çš„æ‰€æœ‰æ–‡æ¡£å’Œè®°å½•ã€‚

---

## ğŸ“š æ–‡æ¡£åˆ—è¡¨

### æ ¸å¿ƒæ–‡æ¡£

1. **`DEV_WORKFLOW_OPTIMIZATION.md`** - å¼€å‘æµç¨‹ä¼˜åŒ–å®Œæ•´è®°å½•
   - ä¼˜åŒ–æˆæœæ€»ç»“
   - æŠ€æœ¯å®ç°ç»†èŠ‚
   - Bug ä¿®å¤è®°å½•
   - æ€§èƒ½æ•°æ®ç»Ÿè®¡
   - ç»éªŒæ€»ç»“

---

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### æˆ‘æƒ³å¼€å§‹ä½¿ç”¨å¼€å‘æ¨¡å¼

è¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„æ–‡æ¡£ï¼š
- **å¿«é€Ÿå¼€å§‹**ï¼š`/QUICK_DEV_GUIDE.md`
- **çƒ­é‡è½½æ¼”ç¤º**ï¼š`/HOT_RELOAD_DEMO.md`

### æˆ‘æƒ³äº†è§£æŠ€æœ¯å®ç°

è¯·å‚è€ƒï¼š
- **å¼€å‘æµç¨‹æŠ€æœ¯è¯¦è§£**ï¼š`/docker/DEV_WORKFLOW.md`
- **ç«¯å£é…ç½®è¯¦è§£**ï¼š`/docker/PORT_CONFIG.md`

### æˆ‘æƒ³æŸ¥çœ‹ä¼˜åŒ–å†å²

è¯·å‚è€ƒï¼š
- **æœ¬ç›®å½•çš„ `DEV_WORKFLOW_OPTIMIZATION.md`**

---

## ğŸ“Š ä¼˜åŒ–æˆæœ

### æ€§èƒ½æå‡

| æ“ä½œ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| å‰ç«¯ä¿®æ”¹ | 10åˆ†é’Ÿ | **0ç§’** | **âˆ** |
| åç«¯ä¿®æ”¹ | 5åˆ†é’Ÿ | **2ç§’** | **150x** |
| æ¯æ—¥èŠ‚çœ | - | **2.5å°æ—¶** | - |

### å…³é”®æŠ€æœ¯

- âœ… UmiJS Dev Server + HMRï¼ˆçƒ­æ¨¡å—æ›¿æ¢ï¼‰
- âœ… Docker æŒ‚è½½æœ¬åœ°ä»£ç 
- âœ… Flask debug è‡ªåŠ¨é‡å¯
- âœ… ç«¯å£é…ç½®ç»Ÿä¸€ç®¡ç†

---

## ğŸ”§ å·¥å…·å’Œè„šæœ¬

### å¼€å‘è„šæœ¬

- **`/build-and-run-dev.sh`** - å¼€å‘æ¨¡å¼è„šæœ¬
  - `--init` - é¦–æ¬¡è®¾ç½®
  - `--hot` - å¯åŠ¨çƒ­é‡è½½
  - `--rebuild-fe` - é‡æ–°æ„å»ºå‰ç«¯
  - `--restart` - é‡å¯åç«¯
  - `--logs` - æŸ¥çœ‹æ—¥å¿—
  - `--stop` - åœæ­¢æœåŠ¡

### é…ç½®æ–‡ä»¶

- **`/docker/docker-compose-dev.yml`** - å¼€å‘æ¨¡å¼ Docker é…ç½®
- **`/web/package.json`** - å‰ç«¯è„šæœ¬é…ç½®ï¼ˆåŒ…å«ç«¯å£è®¾ç½®ï¼‰
- **`/docker/.env`** - ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ‰€æœ‰ç«¯å£çš„å”¯ä¸€æ¥æºï¼‰

---

## ğŸ› Bug ä¿®å¤è®°å½•

### 2025-01-10

**é—®é¢˜**ï¼šsidebar-dual-tabs.tsx æ˜¾ç¤ºé”™è¯¯
```
TypeError: Cannot read properties of undefined (reading 'length')
```

**ä¿®å¤**ï¼š
```typescript
// ä¿®å¤å‰
{session.messages.length}

// ä¿®å¤å
{session.messages?.length ?? 0}
```

**æ–‡ä»¶**ï¼š`web/src/pages/free-chat/components/sidebar-dual-tabs.tsx:308`

**è¯¦ç»†è®°å½•**ï¼š`.memory/freechat_analysis/BUGFIX_2025_01.md`

---

## ğŸ“ æœ€ä½³å®è·µ

### æ—¥å¸¸å¼€å‘æµç¨‹

1. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**ï¼ˆæ¯å¤©ä¸€æ¬¡ï¼‰
   ```bash
   cd /path/to/ragflow
   bash build-and-run-dev.sh --hot
   ```

2. **å¼€å‘è¿‡ç¨‹ä¸­**
   - ä¿®æ”¹å‰ç«¯ä»£ç  â†’ è‡ªåŠ¨åˆ·æ–°ï¼ˆ0ç§’ï¼‰
   - ä¿®æ”¹åç«¯ä»£ç  â†’ è‡ªåŠ¨é‡å¯ï¼ˆ2ç§’ï¼‰

3. **ä¸‹ç­å‰**
   ```bash
   Ctrl+C  # åœæ­¢çƒ­é‡è½½
   bash build-and-run-dev.sh --stop  # åœæ­¢åç«¯
   ```

### ç”Ÿäº§éƒ¨ç½²å‰

ä½¿ç”¨åŸæ„å»ºè„šæœ¬è¿›è¡Œå®Œæ•´æµ‹è¯•ï¼š
```bash
bash build-and-run.sh --rebuild
```

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2025-01-10

**æ–°å¢**ï¼š
- âœ… å¼€å‘æµç¨‹ä¼˜åŒ–å®Œæ•´è®°å½•
- âœ… çƒ­é‡è½½å¼€å‘æ¨¡å¼
- âœ… ç«¯å£é…ç½®ç»Ÿä¸€ç®¡ç†
- âœ… å®Œæ•´å¼€å‘æ–‡æ¡£

**ä¿®å¤**ï¼š
- âœ… sidebar-dual-tabs.tsx undefined.length é”™è¯¯

**æ€§èƒ½**ï¼š
- âœ… å‰ç«¯å¼€å‘æ•ˆç‡æå‡ 20-150 å€
- âœ… æ¯æ—¥èŠ‚çœçº¦ 2.5 å°æ—¶

---

## ğŸ”— ç›¸å…³é“¾æ¥

### å¤–éƒ¨æ–‡æ¡£

- **UmiJS å®˜æ–¹æ–‡æ¡£**ï¼šhttps://umijs.org/
- **Docker æ–‡æ¡£**ï¼šhttps://docs.docker.com/
- **Flask æ–‡æ¡£**ï¼šhttps://flask.palletsprojects.com/

### å†…éƒ¨æ–‡æ¡£

- **FreeChat åˆ†æ**ï¼š`.memory/freechat_analysis/`
- **Agent è¡Œä¸ºåè®®**ï¼š`.memory/agent/agent.md`
- **é¡¹ç›®æ¶æ„åˆ†æ**ï¼š`.memory/analysis/`

---

**æ–‡æ¡£ç»´æŠ¤è€…**ï¼šAI Agent (Claude)  
**æœ€åæ›´æ–°**ï¼š2025-01-10
